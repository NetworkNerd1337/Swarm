{% extends "base.html" %}

{% block title %}Tutorial - StreamSwarm{% endblock %}

{% block content %}
<div class="container">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col">
            <div class="d-flex align-items-center mb-3">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="StreamSwarm" height="48" class="me-3">
                <div>
                    <h1 class="h2 mb-1">
                        <i class="fas fa-graduation-cap me-2"></i>
                        StreamSwarm Tutorial
                    </h1>
                    <p class="lead mb-0">Complete guide with real-world use cases and step-by-step instructions</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Navigation -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-map me-2"></i>
                        Quick Navigation
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Getting Started</h6>
                            <ul class="list-unstyled">
                                <li><a href="#dependencies" class="text-decoration-none">System Dependencies</a></li>
                                <li><a href="#database-setup" class="text-decoration-none">Database Setup</a></li>
                                <li><a href="#architecture" class="text-decoration-none">Understanding the Architecture</a></li>
                                <li><a href="#server-setup" class="text-decoration-none">Server Setup Guide</a></li>
                                <li><a href="#client-deployment" class="text-decoration-none">Client Deployment</a></li>
                                <li><a href="#first-test" class="text-decoration-none">Creating Your First Test</a></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Advanced Topics</h6>
                            <ul class="list-unstyled">
                                <li><a href="#use-cases" class="text-decoration-none">Real-World Use Cases</a></li>
                                <li><a href="#client-deployment" class="text-decoration-none">Multi-Client Setup</a></li>
                                <li><a href="#troubleshooting" class="text-decoration-none">Troubleshooting</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- System Dependencies -->
    <div class="row mb-4" id="dependencies">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-download me-2"></i>
                        Complete Installation Guide
                    </h5>
                </div>
                <div class="card-body">
                    <!-- Python Installation by Platform -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h6 class="text-primary mb-3">
                                <i class="fab fa-python me-2"></i>
                                Python Installation by Platform
                            </h6>
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-lg-4 mb-3">
                            <div class="card h-100">
                                <div class="card-header bg-primary text-white">
                                    <h6 class="mb-0">
                                        <i class="fab fa-linux me-2"></i>
                                        Linux (Ubuntu/Debian)
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <div class="bg-dark p-2 rounded mb-2">
                                        <code class="text-light small">
# Update packages<br>
sudo apt update<br><br>
# Install Python 3.9+<br>
sudo apt install python3 python3-pip python3-venv python3-dev<br><br>
# System dependencies<br>
sudo apt install iputils-ping traceroute lm-sensors smartmontools ethtool libpcap-dev tcpdump build-essential<br><br>
# Verify installation<br>
python3 --version<br>
pip3 --version
                                        </code>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4 mb-3">
                            <div class="card h-100">
                                <div class="card-header bg-info text-white">
                                    <h6 class="mb-0">
                                        <i class="fab fa-windows me-2"></i>
                                        Windows
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-2">
                                        <strong>Method 1: Official Installer</strong>
                                        <ol class="small">
                                            <li>Visit <a href="https://www.python.org/downloads/windows/" target="_blank" class="text-decoration-none">python.org</a></li>
                                            <li>Download Python 3.9+ (64-bit)</li>
                                            <li>Run installer with "Add to PATH" checked</li>
                                        </ol>
                                    </div>
                                    <div class="mb-2">
                                        <strong>Method 2: Package Managers</strong>
                                        <div class="bg-dark p-2 rounded">
                                            <code class="text-light small">
# Chocolatey<br>
choco install python<br><br>
# Winget<br>
winget install Python.Python.3.11
                                            </code>
                                        </div>
                                    </div>
                                    <div>
                                        <strong>Verify:</strong>
                                        <div class="bg-dark p-2 rounded">
                                            <code class="text-light small">python --version<br>pip --version</code>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4 mb-3">
                            <div class="card h-100">
                                <div class="card-header bg-secondary text-white">
                                    <h6 class="mb-0">
                                        <i class="fab fa-apple me-2"></i>
                                        macOS
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-2">
                                        <strong>Homebrew (Recommended):</strong>
                                        <div class="bg-dark p-2 rounded mb-2">
                                            <code class="text-light small">
# Install Homebrew<br>
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"<br><br>
# Install Python<br>
brew install python@3.9<br><br>
# System dependencies<br>
brew install libpcap
                                            </code>
                                        </div>
                                    </div>
                                    <div>
                                        <strong>Official Installer:</strong>
                                        <p class="small">Visit <a href="https://www.python.org/downloads/mac-osx/" target="_blank" class="text-decoration-none">python.org</a> and download Python 3.9+ installer</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Virtual Environment Setup -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="alert alert-success">
                                <h6><i class="fas fa-lightbulb me-2"></i>Virtual Environment Setup (Recommended)</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <strong>Linux/macOS:</strong>
                                        <div class="bg-dark p-2 rounded mt-2">
                                            <code class="text-light small">python3 -m venv streamswarm-env<br>source streamswarm-env/bin/activate</code>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <strong>Windows:</strong>
                                        <div class="bg-dark p-2 rounded mt-2">
                                            <code class="text-light small">python -m venv streamswarm-env<br>streamswarm-env\Scripts\activate</code>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Python Dependencies -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h6 class="text-primary mb-3">
                                <i class="fas fa-box me-2"></i>
                                Python Package Installation
                            </h6>
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-lg-6">
                            <h6>All Dependencies (Single Command)</h6>
                            <div class="bg-dark p-3 rounded">
                                <code class="text-light small">pip install flask>=2.3.0 flask-sqlalchemy>=3.0.0 sqlalchemy>=2.0.0 psycopg2-binary>=2.9.0 psutil>=5.9.0 requests>=2.28.0 gunicorn>=21.0.0 werkzeug>=2.3.0 email-validator>=2.0.0 scapy>=2.5.0 speedtest-cli>=2.1.3 reportlab>=4.4.0 matplotlib>=3.10.0</code>
                            </div>
                        </div>
                        
                        <div class="col-lg-6">
                            <h6>Step-by-Step Installation</h6>
                            <div class="bg-dark p-3 rounded">
                                <code class="text-light small">
# Core application<br>
pip install flask flask-sqlalchemy psutil requests gunicorn psycopg2-binary werkzeug email-validator<br><br>
# Advanced features<br>
pip install scapy speedtest-cli<br><br>
# Report generation<br>
pip install reportlab matplotlib
                                </code>
                            </div>
                        </div>
                    </div>
                    
                    <!-- System Dependencies by Platform -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h6 class="text-primary mb-3">
                                <i class="fas fa-tools me-2"></i>
                                System Dependencies by Platform
                            </h6>
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-lg-4">
                            <div class="card">
                                <div class="card-header bg-success text-white">
                                    <h6 class="mb-0">Linux System Tools</h6>
                                </div>
                                <div class="card-body">
                                    <div class="bg-dark p-2 rounded">
                                        <code class="text-light small">
# Ubuntu/Debian<br>
sudo apt install iputils-ping traceroute lm-sensors smartmontools ethtool libpcap-dev tcpdump<br><br>
# CentOS/RHEL/Fedora<br>
sudo dnf install iputils traceroute lm_sensors smartmontools ethtool libpcap-devel tcpdump<br><br>
# Initialize sensors<br>
sudo sensors-detect --auto
                                        </code>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4">
                            <div class="card">
                                <div class="card-header bg-warning text-dark">
                                    <h6 class="mb-0">Windows Setup</h6>
                                </div>
                                <div class="card-body">
                                    <p class="small">Most functionality works without additional tools.</p>
                                    <p class="small"><strong>Optional enhancements:</strong></p>
                                    <ul class="small">
                                        <li>Wireshark for packet analysis</li>
                                        <li>WSL for Unix tools</li>
                                        <li>Run as Administrator for system metrics</li>
                                    </ul>
                                    <div class="bg-dark p-2 rounded">
                                        <code class="text-light small"># Optional: WSL<br>wsl --install</code>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4">
                            <div class="card">
                                <div class="card-header bg-dark text-white">
                                    <h6 class="mb-0">macOS Tools</h6>
                                </div>
                                <div class="card-body">
                                    <div class="bg-dark p-2 rounded mb-2">
                                        <code class="text-light small">
# Packet capture<br>
brew install libpcap<br><br>
# Optional tools<br>
brew install nmap traceroute
                                        </code>
                                    </div>
                                    <p class="small"><strong>Note:</strong> Some features may require admin privileges</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Download StreamSwarm Application -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="alert alert-primary">
                                <h6><i class="fab fa-github me-2"></i>Download StreamSwarm Application</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <p class="small mb-2"><strong>Method 1: Git Clone (Recommended)</strong></p>
                                        <div class="bg-dark p-2 rounded">
                                            <code class="text-light small">
git clone https://github.com/NetworkNerd1337/Swarm.git<br>
cd Swarm
                                            </code>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <p class="small mb-2"><strong>Method 2: Download ZIP</strong></p>
                                        <ol class="small">
                                            <li>Visit <a href="https://github.com/NetworkNerd1337/Swarm" target="_blank" class="text-decoration-none">GitHub Repository</a></li>
                                            <li>Click green "Code" button</li>
                                            <li>Select "Download ZIP"</li>
                                            <li>Extract to desired location</li>
                                            <li>Navigate to extracted folder</li>
                                        </ol>
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-12">
                                        <p class="small mb-1"><strong>Verify Download:</strong></p>
                                        <div class="bg-dark p-2 rounded">
                                            <code class="text-light small">
ls -la  # Should show: main.py, client.py, app.py, models.py, etc.<br>
pwd     # Should end with /Swarm
                                            </code>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Installation Verification -->
                    <div class="row">
                        <div class="col-12">
                            <div class="alert alert-info">
                                <h6><i class="fas fa-check-circle me-2"></i>Installation Verification</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <p class="small mb-2"><strong>Create test script (test_deps.py):</strong></p>
                                        <div class="bg-dark p-2 rounded">
                                            <code class="text-light small">
try:<br>
&nbsp;&nbsp;&nbsp;&nbsp;import flask, psutil, requests<br>
&nbsp;&nbsp;&nbsp;&nbsp;import scapy, speedtest, reportlab, matplotlib<br>
&nbsp;&nbsp;&nbsp;&nbsp;print("✅ All dependencies installed!")<br>
&nbsp;&nbsp;&nbsp;&nbsp;print(f"✅ CPU: {psutil.cpu_percent()}%")<br>
&nbsp;&nbsp;&nbsp;&nbsp;print(f"✅ Memory: {psutil.virtual_memory().percent}%")<br>
except ImportError as e:<br>
&nbsp;&nbsp;&nbsp;&nbsp;print(f"❌ Missing: {e}")
                                            </code>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <p class="small mb-2"><strong>Run verification:</strong></p>
                                        <div class="bg-dark p-2 rounded mb-2">
                                            <code class="text-light small">python test_deps.py</code>
                                        </div>
                                        <p class="small mb-2"><strong>Troubleshooting:</strong></p>
                                        <ul class="small">
                                            <li>Use virtual environments to avoid conflicts</li>
                                            <li>Run with admin privileges for system monitoring</li>
                                            <li>Check firewall settings for port 5000</li>
                                            <li>Ensure "Add to PATH" was selected during Python installation</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Database Setup -->
    <div class="row mb-4" id="database-setup">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-database me-2"></i>
                        Database Setup & Configuration
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6 mb-4">
                            <h6 class="text-primary">
                                <i class="fas fa-elephant me-2"></i>
                                PostgreSQL Setup
                            </h6>
                            <p class="text-muted mb-3">StreamSwarm uses PostgreSQL for data storage. Here's how to set it up:</p>
                            
                            <h6 class="small text-info">Install PostgreSQL:</h6>
                            <div class="bg-dark p-3 rounded mb-3">
                                <code class="text-light">
# Ubuntu/Debian<br>
sudo apt install postgresql postgresql-contrib<br><br>
# CentOS/RHEL<br>
sudo yum install postgresql-server postgresql-contrib<br>
sudo postgresql-setup initdb<br>
sudo systemctl enable postgresql<br>
sudo systemctl start postgresql
                                </code>
                            </div>
                            
                            <h6 class="small text-info">Create Database:</h6>
                            <div class="bg-dark p-3 rounded mb-3">
                                <code class="text-light">
sudo -u postgres psql<br><br>
CREATE DATABASE streamswarm;<br>
CREATE USER streamswarm_user WITH PASSWORD 'your_password';<br>
GRANT ALL PRIVILEGES ON DATABASE streamswarm TO streamswarm_user;<br>
\q
                                </code>
                            </div>
                        </div>
                        
                        <div class="col-lg-6 mb-4">
                            <h6 class="text-success">
                                <i class="fas fa-cog me-2"></i>
                                Configuration Options
                            </h6>
                            <p class="text-muted mb-3">StreamSwarm uses environment variables for configuration. You have three options:</p>
                            
                            <h6 class="small text-info">Option 1: Environment Variables (Recommended)</h6>
                            <div class="bg-dark p-3 rounded mb-3">
                                <code class="text-light">
# Set in your shell (Linux/macOS)<br>
export DATABASE_URL="postgresql://streamswarm_user:your_password@localhost:5432/streamswarm"<br>
export SESSION_SECRET="your-secret-key-here"<br><br>
# Set in PowerShell (Windows)<br>
$env:DATABASE_URL="postgresql://streamswarm_user:your_password@localhost:5432/streamswarm"<br>
$env:SESSION_SECRET="your-secret-key-here"
                                </code>
                            </div>
                            
                            <h6 class="small text-info">Option 2: .env File (Development)</h6>
                            <div class="bg-dark p-3 rounded mb-3">
                                <code class="text-light">
# Create .env file in project root<br>
echo "DATABASE_URL=postgresql://streamswarm_user:your_password@localhost:5432/streamswarm" > .env<br>
echo "SESSION_SECRET=your-secret-key-here" >> .env<br><br>
# The application will automatically load these variables
                                </code>
                            </div>
                            
                            <h6 class="small text-info">Option 3: Modify config.py (Not Recommended)</h6>
                            <div class="bg-dark p-3 rounded mb-3">
                                <code class="text-light">
# In config.py, change the default values:<br>
DATABASE_URL = os.getenv('DATABASE_URL', 'your-database-url-here')<br>
SESSION_SECRET = os.getenv('SESSION_SECRET', 'your-secret-key-here')<br><br>
# Warning: Never commit real credentials to version control!
                                </code>
                            </div>
                            
                            <div class="alert alert-info mb-3">
                                <h6><i class="fas fa-key me-2"></i>About SESSION_SECRET</h6>
                                <p class="small mb-2"><strong>Purpose:</strong> Encrypts user sessions and cookies for web security</p>
                                <p class="small mb-2"><strong>Requirements:</strong></p>
                                <ul class="small mb-2">
                                    <li>Minimum 32 characters long</li>
                                    <li>Random mix of letters, numbers, and symbols</li>
                                    <li>Unique for each deployment</li>
                                    <li>Never shared or committed to version control</li>
                                </ul>
                                <p class="small mb-0"><strong>Generate one:</strong> <code>openssl rand -hex 32</code> or use online generator</p>
                            </div>
                            
                            <div class="alert alert-warning">
                                <strong>Security Note:</strong> Use a strong, unique password and session secret in production. Never commit credentials to version control. The SESSION_SECRET protects user sessions from tampering and hijacking.
                            </div>
                            
                            <div class="alert alert-success">
                                <h6><i class="fas fa-info-circle me-2"></i>How Configuration Works</h6>
                                <p class="small mb-2">StreamSwarm reads configuration in this priority order:</p>
                                <ol class="small mb-2">
                                    <li><strong>Environment variables</strong> (highest priority)</li>
                                    <li><strong>.env file</strong> (if no environment variable set)</li>
                                    <li><strong>Default values in config.py</strong> (fallback)</li>
                                </ol>
                                <p class="small mb-0">The application automatically uses SQLite for development if no DATABASE_URL is provided. All other settings have sensible defaults in config.py.</p>
                            </div>
                            
                            <h6 class="small text-info">Test Database Connection:</h6>
                            <div class="bg-dark p-3 rounded mb-2">
                                <code class="text-light">
psql "$DATABASE_URL" -c "SELECT version();"
                                </code>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-12">
                            <div class="alert alert-info">
                                <h6 class="alert-heading">
                                    <i class="fas fa-magic me-2"></i>
                                    Automatic Schema Creation
                                </h6>
                                <p class="mb-0">StreamSwarm automatically creates all necessary database tables when the server starts for the first time. The schema includes tables for clients, tests, test results, and all 45+ performance metrics including the new QoS monitoring fields.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Architecture Overview -->
    <div class="row mb-4" id="architecture">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-sitemap me-2"></i>
                        Understanding the Architecture
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6 mb-4">
                            <h6 class="text-primary">
                                <i class="fas fa-server me-2"></i>
                                Server Component
                            </h6>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check text-success me-2"></i>Central control hub for all monitoring</li>
                                <li><i class="fas fa-check text-success me-2"></i>Hosts web dashboard for visualization</li>
                                <li><i class="fas fa-check text-success me-2"></i>Stores data in PostgreSQL database</li>
                                <li><i class="fas fa-check text-success me-2"></i>Schedules tests across multiple clients</li>
                                <li><i class="fas fa-check text-success me-2"></i>Provides REST API access</li>
                            </ul>
                            
                            <div class="alert alert-info">
                                <strong>When to deploy a server:</strong><br>
                                <small>You need centralized monitoring, test coordination, historical data storage, or management interfaces.</small>
                            </div>
                        </div>
                        
                        <div class="col-lg-6 mb-4">
                            <h6 class="text-info">
                                <i class="fas fa-desktop me-2"></i>
                                Client Component
                            </h6>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check text-success me-2"></i>Lightweight monitoring agent</li>
                                <li><i class="fas fa-check text-success me-2"></i>Executes network tests (ping, traceroute)</li>
                                <li><i class="fas fa-check text-success me-2"></i>Collects system metrics (CPU, memory, disk)</li>
                                <li><i class="fas fa-check text-success me-2"></i>Reports data to server in real-time</li>
                                <li><i class="fas fa-check text-success me-2"></i>Receives test assignments from server</li>
                            </ul>
                            
                            <div class="alert alert-warning">
                                <strong>When to deploy a client:</strong><br>
                                <small>You want to monitor from a specific location, test connectivity to services, or participate in distributed testing.</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Server Setup -->
    <div class="row mb-4" id="server-setup">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-cog me-2"></i>
                        Server Setup Guide
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6 mb-4">
                            <h6 class="text-success">
                                <i class="fas fa-play me-2"></i>
                                Starting the Server
                            </h6>
                            <p class="text-muted small mb-3">Multiple ways to run StreamSwarm server:</p>
                            
                            <div class="mb-3">
                                <h6 class="small text-info">Development Mode:</h6>
                                <div class="bg-dark p-3 rounded">
                                    <code class="text-light">
# Simple start (uses SQLite by default)<br>
python main.py<br><br>
# With environment variables<br>
export SESSION_SECRET="$(openssl rand -hex 32)"<br>
python main.py<br><br>
# Access at: http://localhost:5000
                                    </code>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <h6 class="small text-info">Production Mode:</h6>
                                <div class="bg-dark p-3 rounded">
                                    <code class="text-light">
# With Gunicorn (recommended)<br>
gunicorn --bind 0.0.0.0:5000 --workers 4 main:app<br><br>
# With reloading for development<br>
gunicorn --bind 0.0.0.0:5000 --reload main:app
                                    </code>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-6 mb-4">
                            <h6 class="text-primary">
                                <i class="fas fa-cogs me-2"></i>
                                Service Configuration
                            </h6>
                            <p class="text-muted small mb-3">Run StreamSwarm as a system service:</p>
                            
                            <div class="mb-3">
                                <h6 class="small text-info">Systemd Service (Linux):</h6>
                                <div class="bg-dark p-3 rounded">
                                    <code class="text-light small">
# Create /etc/systemd/system/streamswarm.service<br>
[Unit]<br>
Description=StreamSwarm Network Monitor<br>
After=network.target<br><br>
[Service]<br>
Type=exec<br>
User=streamswarm<br>
WorkingDirectory=/opt/streamswarm<br>
Environment=DATABASE_URL=postgresql://...<br>
Environment=SESSION_SECRET=your-secret-here<br>
ExecStart=/opt/streamswarm/venv/bin/gunicorn --bind 0.0.0.0:5000 main:app<br>
Restart=always<br><br>
[Install]<br>
WantedBy=multi-user.target
                                    </code>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <h6 class="small text-info">Service Commands:</h6>
                                <div class="bg-dark p-3 rounded">
                                    <code class="text-light">
# Enable and start service<br>
sudo systemctl enable streamswarm<br>
sudo systemctl start streamswarm<br><br>
# Check status<br>
sudo systemctl status streamswarm<br><br>
# View logs<br>
sudo journalctl -u streamswarm -f
                                    </code>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-lg-6 mb-4">
                            <h6 class="text-warning">
                                <i class="fas fa-shield-alt me-2"></i>
                                Security Configuration
                            </h6>
                            
                            <div class="mb-3">
                                <h6 class="small text-info">Firewall Setup:</h6>
                                <div class="bg-dark p-3 rounded">
                                    <code class="text-light">
# UFW (Ubuntu/Debian)<br>
sudo ufw allow 5000/tcp<br>
sudo ufw enable<br><br>
# Firewalld (CentOS/RHEL)<br>
sudo firewall-cmd --permanent --add-port=5000/tcp<br>
sudo firewall-cmd --reload
                                    </code>
                                </div>
                            </div>
                            
                            <div class="alert alert-warning small">
                                <strong>Production Security:</strong><br>
                                • Use a reverse proxy (nginx/Apache)<br>
                                • Enable HTTPS with SSL certificates<br>
                                • Use strong SESSION_SECRET<br>
                                • Restrict database access
                            </div>
                        </div>
                        
                        <div class="col-lg-6 mb-4">
                            <h6 class="text-info">
                                <i class="fas fa-chart-line me-2"></i>
                                Monitoring & Maintenance
                            </h6>
                            
                            <div class="mb-3">
                                <h6 class="small text-info">Health Checks:</h6>
                                <div class="bg-dark p-3 rounded">
                                    <code class="text-light">
# Check server status<br>
curl http://localhost:5000/api/dashboard/stats<br><br>
# Check database connection<br>
psql "$DATABASE_URL" -c "SELECT COUNT(*) FROM client;"<br><br>
# Monitor logs<br>
tail -f /var/log/streamswarm.log
                                    </code>
                                </div>
                            </div>
                            
                            <div class="alert alert-info small">
                                <strong>Backup Strategy:</strong><br>
                                • Regular PostgreSQL dumps<br>
                                • Configuration file backups<br>
                                • Log rotation setup<br>
                                • Monitor disk space usage
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-12">
                            <div class="alert alert-warning">
                                <h6><i class="fas fa-cloud me-2"></i>External vs Self-Hosted Server Configuration</h6>
                                <p class="small mb-2"><strong>External hosted servers (cloud deployments):</strong></p>
                                <div class="bg-dark p-3 rounded mb-2">
                                    <code class="text-light">
# Use HTTPS without port specification<br>
python client.py --server https://your-domain.example.com --name "Client-01"<br><br>
                                    </code>
                                </div>
                                <p class="small mb-2"><strong>Self-hosted servers (local/internal networks):</strong></p>
                                <div class="bg-dark p-3 rounded mb-2">
                                    <code class="text-light">
# Specify port explicitly for self-hosted servers<br>
python client.py --server http://192.168.1.100:5000 --name "Client-01"<br>
python client.py --server https://internal-server.company.com:5000 --name "Client-01"
                                    </code>
                                </div>
                                <p class="small mb-0"><strong>Note:</strong> Cloud deployments typically handle port mapping automatically, while self-hosted servers require explicit port specification.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Client Deployment -->
    <div class="row mb-4" id="client-deployment">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-network-wired me-2"></i>
                        Client Deployment Strategies
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-4 mb-3">
                            <h6 class="text-primary">Single Client</h6>
                            <pre class="bg-dark text-light p-2 rounded"><code># 1. Download StreamSwarm
git clone https://github.com/NetworkNerd1337/Swarm.git
cd Swarm

# 2. Install minimal dependencies
pip install psutil requests

# 3. Connect to application server (HTTPS)
python client.py --server https://your-domain.com --name "Client-01"

# 4. Connect to self-hosted server
python client.py --server http://192.168.1.100:5000 --name "Local-Client"</code></pre>
                        </div>
                        
                        <div class="col-lg-4 mb-3">
                            <h6 class="text-info">Multi-Location</h6>
                            <pre class="bg-dark text-light p-2 rounded"><code># Deploy to each location:
git clone https://github.com/NetworkNerd1337/Swarm.git
cd Swarm
pip install psutil requests

# New York Office (external deployment)
python client.py --server https://your-domain.com --name "NYC-Office"

# London Office (self-hosted)
python client.py --server https://localhost:5000 --name "London-Office"</code></pre>
                        </div>
                        
                        <div class="col-lg-4 mb-3">
                            <h6 class="text-warning">Service Mode</h6>
                            <pre class="bg-dark text-light p-2 rounded"><code># Linux systemd service
sudo systemctl enable streamswarm-client
sudo systemctl start streamswarm-client

# Windows service
nssm install StreamSwarmClient</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Use Cases -->
    <div class="row mb-4" id="use-cases">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-briefcase me-2"></i>
                        Real-World Use Cases
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6 mb-4">
                            <div class="card border-primary">
                                <div class="card-header bg-primary text-white">
                                    <h6 class="mb-0">
                                        <i class="fas fa-globe me-2"></i>
                                        Website Performance Monitoring
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <p><strong>Scenario:</strong> E-commerce company monitoring website performance from customer locations worldwide.</p>
                                    <p><strong>Setup:</strong></p>
                                    <ul class="small">
                                        <li>Server: Cloud infrastructure (AWS/Azure/GCP)</li>
                                        <li>Clients: VPS instances in major cities</li>
                                        <li>Tests: Website response time monitoring</li>
                                    </ul>
                                    <p><strong>Benefits:</strong> Geographic performance insights, CDN effectiveness tracking, regional issue detection.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-6 mb-4">
                            <div class="card border-success">
                                <div class="card-header bg-success text-white">
                                    <h6 class="mb-0">
                                        <i class="fas fa-building me-2"></i>
                                        Network Infrastructure Monitoring
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <p><strong>Scenario:</strong> IT department monitoring network connectivity between office locations.</p>
                                    <p><strong>Setup:</strong></p>
                                    <ul class="small">
                                        <li>Server: Internal infrastructure server</li>
                                        <li>Clients: Gateway hosts at each office</li>
                                        <li>Tests: Inter-office connectivity monitoring</li>
                                    </ul>
                                    <p><strong>Benefits:</strong> VPN performance tracking, network bottleneck identification, service availability monitoring.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-6 mb-4">
                            <div class="card border-info">
                                <div class="card-header bg-info text-white">
                                    <h6 class="mb-0">
                                        <i class="fas fa-cloud me-2"></i>
                                        Cloud Service Performance
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <p><strong>Scenario:</strong> Development team monitoring microservices across multiple cloud regions.</p>
                                    <p><strong>Setup:</strong></p>
                                    <ul class="small">
                                        <li>Server: Primary cloud region</li>
                                        <li>Clients: Each cloud region with services</li>
                                        <li>Tests: Cross-region service performance</li>
                                    </ul>
                                    <p><strong>Benefits:</strong> Service latency optimization, regional performance comparison, database connectivity monitoring.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-6 mb-4">
                            <div class="card border-warning">
                                <div class="card-header bg-warning text-dark">
                                    <h6 class="mb-0">
                                        <i class="fas fa-wifi me-2"></i>
                                        ISP Performance Analysis
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <p><strong>Scenario:</strong> Network administrator comparing ISP performance for load balancing decisions.</p>
                                    <p><strong>Setup:</strong></p>
                                    <ul class="small">
                                        <li>Server: Neutral location (cloud/colocation)</li>
                                        <li>Clients: Hosts behind different ISP connections</li>
                                        <li>Tests: Performance comparison to common destinations</li>
                                    </ul>
                                    <p><strong>Benefits:</strong> ISP performance comparison, load balancing optimization, connectivity issue detection.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- First Test Tutorial -->
    <div class="row mb-4" id="first-test">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-play-circle me-2"></i>
                        Creating Your First Test
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-8">
                            <h6>Step-by-Step Process</h6>
                            <ol>
                                <li><strong>Start the Server:</strong> Run <code>python main.py</code> and access the dashboard</li>
                                <li><strong>Connect Clients:</strong> Deploy clients from different locations using the client command</li>
                                <li><strong>Verify Connections:</strong> Check the Clients page to see online clients</li>
                                <li><strong>Create Test:</strong> Go to Tests page and click "Create Test"</li>
                                <li><strong>Configure Test:</strong> Set destination, duration, and select participating clients</li>
                                <li><strong>Monitor Progress:</strong> Watch real-time progress and results</li>
                                <li><strong>Analyze Results:</strong> Click the chart icon to view detailed performance data</li>
                            </ol>
                        </div>
                        
                        <div class="col-lg-4">
                            <div class="alert alert-primary">
                                <h6><i class="fas fa-rocket me-2"></i>Quick Start</h6>
                                <p class="small mb-2">Want to test immediately? Try these destinations:</p>
                                <ul class="small mb-0">
                                    <li><code>google.com</code> - Global performance</li>
                                    <li><code>8.8.8.8</code> - DNS performance</li>
                                    <li><code>cloudflare.com</code> - CDN performance</li>
                                    <li><code>github.com</code> - Developer services</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Troubleshooting -->
    <div class="row mb-4" id="troubleshooting">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-wrench me-2"></i>
                        Common Issues & Solutions
                    </h5>
                </div>
                <div class="card-body">
                    <div class="accordion" id="troubleshootingAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#client-connection">
                                    <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                                    Client Won't Connect to Server
                                </button>
                            </h2>
                            <div id="client-connection" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>Diagnostic Steps:</h6>
                                            <pre class="bg-dark text-light p-2 rounded"><code># Test server accessibility
curl http://server-ip:5000/api/dashboard/stats

# Check network connectivity  
ping server-ip

# Verify firewall rules
sudo ufw status</code></pre>
                                        </div>
                                        <div class="col-md-6">
                                            <h6>Common Solutions:</h6>
                                            <ul class="small">
                                                <li>Verify server is running and accessible</li>
                                                <li>Check firewall rules on server</li>
                                                <li>Ensure port 5000 is not blocked</li>
                                                <li>Confirm correct server URL in client command</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#no-test-data">
                                    <i class="fas fa-chart-line text-info me-2"></i>
                                    No Test Data Appearing
                                </button>
                            </h2>
                            <div id="no-test-data" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>Check These Items:</h6>
                                            <ul class="small">
                                                <li>Clients show green "Online" status</li>
                                                <li>Tests are assigned to online clients</li>
                                                <li>Destination is reachable from client networks</li>
                                                <li>Client has permissions for ping/traceroute</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6>Manual Test:</h6>
                                            <pre class="bg-dark text-light p-2 rounded"><code># Test destination manually
ping -c 4 google.com

# Check client logs
python client.py --server http://server:5000 --verbose</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#performance-issues">
                                    <i class="fas fa-tachometer-alt text-danger me-2"></i>
                                    Server Performance Issues
                                </button>
                            </h2>
                            <div id="performance-issues" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>Performance Optimization:</h6>
                                            <ul class="small">
                                                <li>Reduce test frequency (increase interval)</li>
                                                <li>Limit concurrent tests</li>
                                                <li>Monitor server resource usage</li>
                                                <li>Consider database optimization</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6>Monitor Resources:</h6>
                                            <pre class="bg-dark text-light p-2 rounded"><code># Check server resources
top -p $(pgrep -f "python.*main.py")

# Monitor database size
psql $DATABASE_URL -c "SELECT pg_size_pretty(pg_database_size('streamswarm'));"</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Resources -->
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-book me-2"></i>
                        Additional Resources
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h6><i class="fas fa-file-alt me-2"></i>Documentation</h6>
                            <ul class="list-unstyled">
                                <li><a href="#dependencies" class="text-decoration-none">Installation Guide</a></li>
                                <li><a href="#database-setup" class="text-decoration-none">Database Setup</a></li>
                                <li><a href="/metrics" class="text-decoration-none">Enhanced Metrics</a></li>
                            </ul>
                        </div>
                        
                        <div class="col-md-4">
                            <h6><i class="fas fa-code me-2"></i>Configuration</h6>
                            <ul class="list-unstyled">
                                <li><a href="#database-setup" class="text-decoration-none">Database Configuration</a></li>
                                <li><a href="#server-setup" class="text-decoration-none">Server Deployment</a></li>
                                <li><a href="#client-deployment" class="text-decoration-none">Client Setup</a></li>
                            </ul>
                        </div>
                        
                        <div class="col-md-4">
                            <h6><i class="fas fa-question-circle me-2"></i>Application</h6>
                            <ul class="list-unstyled">
                                <li><a href="/" class="text-decoration-none">Dashboard</a></li>
                                <li><a href="/clients" class="text-decoration-none">Client Management</a></li>
                                <li><a href="/tests" class="text-decoration-none">Test Management</a></li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="alert alert-info mt-3">
                        <h6><i class="fas fa-info-circle me-2"></i>Additional Resources</h6>
                        <p class="mb-0">Check <code>DEPENDENCIES.md</code> for complete package requirements and <code>TUTORIAL.md</code> for detailed setup instructions. Visit the <a href="/" class="text-decoration-none">main dashboard</a> to start monitoring.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Smooth scrolling for internal links
document.addEventListener('DOMContentLoaded', function() {
    const links = document.querySelectorAll('a[href^="#"]');
    
    links.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
    // Highlight current section in navigation
    const sections = document.querySelectorAll('div[id]');
    const navLinks = document.querySelectorAll('a[href^="#"]');
    
    function highlightNavigation() {
        let current = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            
            if (window.pageYOffset >= (sectionTop - 200)) {
                current = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('fw-bold', 'text-primary');
            if (link.getAttribute('href') === `#${current}`) {
                link.classList.add('fw-bold', 'text-primary');
            }
        });
    }
    
    window.addEventListener('scroll', highlightNavigation);
    highlightNavigation(); // Initial call
});
</script>
{% endblock %}