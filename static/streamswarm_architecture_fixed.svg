<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 16px; fill: #34495e; }
      .label { font-family: Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
      .small-label { font-family: Arial, sans-serif; font-size: 10px; fill: #7f8c8d; }
      .server-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .client-box { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .internet-box { fill: #f39c12; stroke: #e67e22; stroke-width: 2; }
      .network-box { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; }
      .database-box { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; }
      .connection-line { stroke: #7f8c8d; stroke-width: 2; fill: none; }
      .data-flow { stroke: #e74c3c; stroke-width: 3; fill: none; stroke-dasharray: 5,5; }
      .internet-flow { stroke: #f39c12; stroke-width: 2; fill: none; }
      .white-text { fill: white; font-family: Arial, sans-serif; font-size: 11px; font-weight: bold; }
      .dependency-text { fill: #e67e22; font-family: Arial, sans-serif; font-size: 10px; }
    </style>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d" />
    </marker>
    
    <marker id="dataflow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
    </marker>
    
    <marker id="internetflow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f39c12" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" class="title">StreamSwarm Distributed Network Monitoring Architecture</text>
  <text x="700" y="55" text-anchor="middle" class="subtitle">Enterprise Network Performance Management Platform</text>

  <!-- Central Server Section -->
  <rect x="500" y="100" width="400" height="200" rx="10" class="server-box"/>
  <text x="700" y="125" text-anchor="middle" class="white-text" font-size="14">STREAMSWARM SERVER</text>
  <text x="700" y="145" text-anchor="middle" class="white-text" font-size="12">Flask Web Application</text>
  
  <!-- Server Components Grid -->
  <rect x="520" y="160" width="110" height="50" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="575" y="180" text-anchor="middle" class="white-text" font-size="10">Web GUI</text>
  <text x="575" y="195" text-anchor="middle" class="white-text" font-size="10">Dashboard</text>
  
  <rect x="645" y="160" width="110" height="50" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="700" y="180" text-anchor="middle" class="white-text" font-size="10">REST API</text>
  <text x="700" y="195" text-anchor="middle" class="white-text" font-size="10">Client Management</text>
  
  <rect x="770" y="160" width="110" height="50" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="825" y="180" text-anchor="middle" class="white-text" font-size="10">AI/ML Engine</text>
  <text x="825" y="195" text-anchor="middle" class="white-text" font-size="10">Analytics</text>
  
  <rect x="520" y="225" width="110" height="50" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="575" y="245" text-anchor="middle" class="white-text" font-size="10">Geo Processing</text>
  <text x="575" y="260" text-anchor="middle" class="white-text" font-size="10">Path Analysis</text>
  
  <rect x="645" y="225" width="110" height="50" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="700" y="245" text-anchor="middle" class="white-text" font-size="10">Test Scheduler</text>
  <text x="700" y="260" text-anchor="middle" class="white-text" font-size="10">Job Queue</text>
  
  <rect x="770" y="225" width="110" height="50" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="825" y="245" text-anchor="middle" class="white-text" font-size="10">GNMI Analysis</text>
  <text x="825" y="260" text-anchor="middle" class="white-text" font-size="10">Telemetry</text>

  <!-- Database -->
  <rect x="550" y="320" width="300" height="80" rx="10" class="database-box"/>
  <text x="700" y="345" text-anchor="middle" class="white-text" font-size="12">PostgreSQL Database</text>
  <text x="700" y="365" text-anchor="middle" class="white-text" font-size="11">Test Results • Client Data • Performance Metrics</text>
  <text x="700" y="385" text-anchor="middle" class="white-text" font-size="11">65+ Advanced Network Metrics per Test</text>

  <!-- Database connection -->
  <line x1="700" y1="300" x2="700" y2="320" class="connection-line" marker-end="url(#arrowhead)"/>

  <!-- External Internet Dependencies -->
  <rect x="950" y="100" width="220" height="180" rx="10" class="internet-box"/>
  <text x="1060" y="125" text-anchor="middle" class="white-text" font-size="12">EXTERNAL DEPENDENCIES</text>
  
  <rect x="970" y="145" width="180" height="25" rx="3" fill="rgba(255,255,255,0.2)"/>
  <text x="1060" y="162" text-anchor="middle" class="white-text" font-size="10">ip-api.com (HTTPS:443)</text>
  
  <rect x="970" y="175" width="180" height="25" rx="3" fill="rgba(255,255,255,0.2)"/>
  <text x="1060" y="192" text-anchor="middle" class="white-text" font-size="10">Geolocation Services</text>
  
  <rect x="970" y="205" width="180" height="25" rx="3" fill="rgba(255,255,255,0.2)"/>
  <text x="1060" y="222" text-anchor="middle" class="white-text" font-size="10">Speedtest Servers</text>
  
  <rect x="970" y="235" width="180" height="25" rx="3" fill="rgba(255,255,255,0.2)"/>
  <text x="1060" y="252" text-anchor="middle" class="white-text" font-size="10">speedtest.net API</text>

  <!-- Internet connection -->
  <line x1="900" y1="190" x2="950" y2="190" class="internet-flow" marker-end="url(#internetflow)"/>
  <text x="925" y="185" text-anchor="middle" class="dependency-text" font-size="9">HTTPS</text>

  <!-- Distributed Clients Section -->
  
  <!-- Branch Office 1 -->
  <rect x="50" y="150" width="160" height="120" rx="10" class="network-box"/>
  <text x="130" y="175" text-anchor="middle" class="white-text" font-size="12">BRANCH OFFICE 1</text>
  <text x="130" y="195" text-anchor="middle" class="white-text" font-size="11">New York</text>
  
  <rect x="70" y="210" width="120" height="50" rx="5" class="client-box"/>
  <text x="130" y="230" text-anchor="middle" class="white-text" font-size="10">StreamSwarm Client</text>
  <text x="130" y="245" text-anchor="middle" class="white-text" font-size="10">Network Testing Agent</text>

  <!-- Branch Office 2 -->
  <rect x="50" y="300" width="160" height="120" rx="10" class="network-box"/>
  <text x="130" y="325" text-anchor="middle" class="white-text" font-size="12">BRANCH OFFICE 2</text>
  <text x="130" y="345" text-anchor="middle" class="white-text" font-size="11">London</text>
  
  <rect x="70" y="360" width="120" height="50" rx="5" class="client-box"/>
  <text x="130" y="380" text-anchor="middle" class="white-text" font-size="10">StreamSwarm Client</text>
  <text x="130" y="395" text-anchor="middle" class="white-text" font-size="10">Network Testing Agent</text>

  <!-- Data Center -->
  <rect x="50" y="450" width="160" height="120" rx="10" class="network-box"/>
  <text x="130" y="475" text-anchor="middle" class="white-text" font-size="12">DATA CENTER</text>
  <text x="130" y="495" text-anchor="middle" class="white-text" font-size="11">Tokyo</text>
  
  <rect x="70" y="510" width="120" height="50" rx="5" class="client-box"/>
  <text x="130" y="530" text-anchor="middle" class="white-text" font-size="10">StreamSwarm Client</text>
  <text x="130" y="545" text-anchor="middle" class="white-text" font-size="10">Network Testing Agent</text>

  <!-- Remote Office -->
  <rect x="50" y="600" width="160" height="120" rx="10" class="network-box"/>
  <text x="130" y="625" text-anchor="middle" class="white-text" font-size="12">REMOTE OFFICE</text>
  <text x="130" y="645" text-anchor="middle" class="white-text" font-size="11">Singapore</text>
  
  <rect x="70" y="660" width="120" height="50" rx="5" class="client-box"/>
  <text x="130" y="680" text-anchor="middle" class="white-text" font-size="10">StreamSwarm Client</text>
  <text x="130" y="695" text-anchor="middle" class="white-text" font-size="10">Network Testing Agent</text>

  <!-- Cloud Clients with better spacing -->
  <rect x="1220" y="150" width="160" height="100" rx="10" class="network-box"/>
  <text x="1300" y="175" text-anchor="middle" class="white-text" font-size="12">AWS CLOUD</text>
  <text x="1300" y="195" text-anchor="middle" class="white-text" font-size="11">US-East-1</text>
  
  <rect x="1240" y="210" width="120" height="40" rx="5" class="client-box"/>
  <text x="1300" y="227" text-anchor="middle" class="white-text" font-size="10">StreamSwarm Client</text>
  <text x="1300" y="242" text-anchor="middle" class="white-text" font-size="10">Cloud Instance</text>

  <rect x="1220" y="280" width="160" height="100" rx="10" class="network-box"/>
  <text x="1300" y="305" text-anchor="middle" class="white-text" font-size="12">AZURE CLOUD</text>
  <text x="1300" y="325" text-anchor="middle" class="white-text" font-size="11">Europe-West</text>
  
  <rect x="1240" y="340" width="120" height="40" rx="5" class="client-box"/>
  <text x="1300" y="357" text-anchor="middle" class="white-text" font-size="10">StreamSwarm Client</text>
  <text x="1300" y="372" text-anchor="middle" class="white-text" font-size="10">Cloud Instance</text>

  <rect x="1220" y="410" width="160" height="100" rx="10" class="network-box"/>
  <text x="1300" y="435" text-anchor="middle" class="white-text" font-size="12">GOOGLE GCP</text>
  <text x="1300" y="455" text-anchor="middle" class="white-text" font-size="11">Asia-Pacific</text>
  
  <rect x="1240" y="470" width="120" height="40" rx="5" class="client-box"/>
  <text x="1300" y="487" text-anchor="middle" class="white-text" font-size="10">StreamSwarm Client</text>
  <text x="1300" y="502" text-anchor="middle" class="white-text" font-size="10">Cloud Instance</text>

  <!-- Enterprise Network Infrastructure - moved away from connection lines -->
  <rect x="250" y="580" width="160" height="120" rx="10" class="network-box"/>
  <text x="330" y="605" text-anchor="middle" class="white-text" font-size="12">ENTERPRISE NETWORK</text>
  <text x="330" y="625" text-anchor="middle" class="white-text" font-size="11">GNMI-Enabled Devices</text>
  
  <rect x="270" y="640" width="120" height="20" rx="3" fill="rgba(255,255,255,0.2)"/>
  <text x="330" y="653" text-anchor="middle" class="white-text" font-size="9">Cisco Routers</text>
  
  <rect x="270" y="665" width="120" height="20" rx="3" fill="rgba(255,255,255,0.2)"/>
  <text x="330" y="678" text-anchor="middle" class="white-text" font-size="9">Juniper Switches</text>
  
  <rect x="270" y="690" width="120" height="20" rx="3" fill="rgba(255,255,255,0.2)"/>
  <text x="330" y="703" text-anchor="middle" class="white-text" font-size="9">Enterprise Firewalls</text>

  <!-- Data Flow Connections -->
  <line x1="210" y1="235" x2="500" y2="200" class="data-flow" marker-end="url(#dataflow)"/>
  <line x1="210" y1="385" x2="500" y2="230" class="data-flow" marker-end="url(#dataflow)"/>
  <line x1="210" y1="535" x2="500" y2="260" class="data-flow" marker-end="url(#dataflow)"/>
  <line x1="210" y1="685" x2="500" y2="290" class="data-flow" marker-end="url(#dataflow)"/>
  <line x1="1220" y1="225" x2="900" y2="200" class="data-flow" marker-end="url(#dataflow)"/>
  <line x1="1220" y1="355" x2="900" y2="230" class="data-flow" marker-end="url(#dataflow)"/>
  <line x1="1220" y1="485" x2="900" y2="260" class="data-flow" marker-end="url(#dataflow)"/>

  <!-- GNMI Telemetry -->
  <line x1="410" y1="640" x2="550" y2="280" class="data-flow" marker-end="url(#dataflow)"/>

  <!-- Connection Labels -->
  <text x="355" y="215" class="small-label">HTTPS/REST API</text>
  <text x="355" y="365" class="small-label">Test Results</text>
  <text x="355" y="515" class="small-label">Performance Data</text>
  <text x="355" y="665" class="small-label">System Metrics</text>
  <text x="1060" y="215" class="small-label">HTTPS</text>
  <text x="1060" y="365" class="small-label">Cloud Monitoring</text>
  <text x="1060" y="485" class="small-label">Cloud Instances</text>
  <text x="480" y="620" class="small-label">GNMI Telemetry</text>

  <!-- AI/ML Features Box -->
  <rect x="450" y="450" width="220" height="120" rx="10" fill="rgba(142, 68, 173, 0.1)" stroke="#8e44ad" stroke-width="2"/>
  <text x="560" y="475" text-anchor="middle" class="label" font-weight="bold">AI/ML CAPABILITIES</text>
  
  <text x="460" y="495" class="small-label">• Anomaly Detection (Isolation Forest)</text>
  <text x="460" y="510" class="small-label">• Health Classification (Random Forest)</text>
  <text x="460" y="525" class="small-label">• Performance Prediction (Gradient Boosting)</text>
  <text x="460" y="540" class="small-label">• Capacity Trend Analysis</text>
  <text x="460" y="555" class="small-label">• Real-time Diagnostic Insights</text>

  <!-- Zero-Trust Security Box -->
  <rect x="690" y="450" width="220" height="120" rx="10" fill="rgba(39, 174, 96, 0.1)" stroke="#27ae60" stroke-width="2"/>
  <text x="800" y="475" text-anchor="middle" class="label" font-weight="bold">ZERO-TRUST SECURITY</text>
  
  <text x="700" y="495" class="small-label">• Local ML Processing Only</text>
  <text x="700" y="510" class="small-label">• No Cloud Dependencies for AI</text>
  <text x="700" y="525" class="small-label">• On-Premises Data Processing</text>
  <text x="700" y="540" class="small-label">• Air-Gapped Compatible</text>
  <text x="700" y="555" class="small-label">• Enterprise Security Compliant</text>

  <!-- Network Requirements Box -->
  <rect x="930" y="450" width="240" height="140" rx="10" fill="rgba(231, 76, 60, 0.1)" stroke="#e74c3c" stroke-width="2"/>
  <text x="1050" y="475" text-anchor="middle" class="label" font-weight="bold">NETWORK REQUIREMENTS</text>
  
  <text x="940" y="495" class="small-label">• Outbound HTTPS (443) to Server</text>
  <text x="940" y="510" class="small-label">• Outbound HTTPS (443) for Geolocation</text>
  <text x="940" y="525" class="small-label">• Speedtest Servers (HTTPS:443)</text>
  <text x="940" y="540" class="small-label">• GNMI Access (830/32768) to Devices</text>
  <text x="940" y="555" class="small-label">• Standard Network Tools (ping, traceroute)</text>
  <text x="940" y="570" class="small-label">• Optional: MTR for enhanced analysis</text>

  <!-- Key Capabilities Box -->
  <rect x="450" y="590" width="220" height="120" rx="10" fill="rgba(52, 152, 219, 0.1)" stroke="#3498db" stroke-width="2"/>
  <text x="560" y="615" text-anchor="middle" class="label" font-weight="bold">KEY CAPABILITIES</text>
  
  <text x="460" y="635" class="small-label">• 65+ Network Performance Metrics</text>
  <text x="460" y="650" class="small-label">• Geolocation Path Visualization</text>
  <text x="460" y="665" class="small-label">• GNMI Enterprise Telemetry</text>
  <text x="460" y="680" class="small-label">• Professional PDF Reporting</text>
  <text x="460" y="695" class="small-label">• Role-Based Access Control</text>

  <!-- Business Benefits Box -->
  <rect x="690" y="590" width="220" height="120" rx="10" fill="rgba(243, 156, 18, 0.1)" stroke="#f39c12" stroke-width="2"/>
  <text x="800" y="615" text-anchor="middle" class="label" font-weight="bold">BUSINESS BENEFITS</text>
  
  <text x="700" y="635" class="small-label">• Proactive Network Monitoring</text>
  <text x="700" y="650" class="small-label">• Reduced Downtime</text>
  <text x="700" y="665" class="small-label">• Performance Optimization</text>
  <text x="700" y="680" class="small-label">• Capacity Planning</text>
  <text x="700" y="695" class="small-label">• Enterprise Compliance</text>

  <!-- Legend -->
  <rect x="450" y="730" width="460" height="140" rx="5" fill="rgba(52, 73, 94, 0.1)" stroke="#34495e" stroke-width="1"/>
  <text x="680" y="750" text-anchor="middle" class="label" font-weight="bold">LEGEND</text>
  
  <rect x="460" y="765" width="20" height="15" class="server-box"/>
  <text x="490" y="777" class="small-label">Central Server and Database</text>
  
  <rect x="460" y="785" width="20" height="15" class="client-box"/>
  <text x="490" y="797" class="small-label">Distributed Monitoring Clients</text>
  
  <rect x="460" y="805" width="20" height="15" class="network-box"/>
  <text x="490" y="817" class="small-label">Network Locations and Infrastructure</text>
  
  <rect x="460" y="825" width="20" height="15" class="internet-box"/>
  <text x="490" y="837" class="small-label">External Internet Dependencies</text>
  
  <line x1="460" y1="850" x2="500" y2="850" class="data-flow"/>
  <text x="510" y="855" class="small-label">Performance Data Flow</text>
  
  <line x1="680" y1="770" x2="720" y2="770" class="internet-flow"/>
  <text x="730" y="775" class="small-label">Internet Access Required</text>

</svg>